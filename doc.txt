
Â°npm init para
Â°npm install express jsonwebtoken mongoose cookie-parser dotenv axios bcryptjs
Â°Crea el archivo server.js:

/** Importar paquetes necesarios */
import axios from "axios"; // Cliente HTTP para hacer peticiones a la API
import toast from "react-hot-toast"; // LibrerÃ­a para mostrar notificaciones (Ã©xito/error)
import { create } from "zustand"; // Zustand es un manejador de estado global muy ligero

/** 
 * useAuthStore
 * Este store maneja todo lo relacionado con la autenticaciÃ³n del usuario:
 * - Registro (signup)
 * - Inicio de sesiÃ³n (login)
 * - Cierre de sesiÃ³n (logout)
 * - VerificaciÃ³n de sesiÃ³n activa (authCheck)
 */
export const useAuthStore = create((set) => ({

	// Estado inicial
	user: null,                 // Guarda los datos del usuario autenticado
	isSigningUp: false,        // Indicador de si se estÃ¡ registrando un usuario
	isCheckingAuth: true,      // Indicador de si se estÃ¡ verificando la sesiÃ³n activa
	isLoggingOut: false,       // Indicador de si se estÃ¡ cerrando la sesiÃ³n
	isLoggingIn: false,        // Indicador de si se estÃ¡ iniciando sesiÃ³n

	/** 
	 * signup
	 * FunciÃ³n asÃ­ncrona para registrar un nuevo usuario
	 * @param {Object} credentials - datos del formulario de registro (ej. nombre, email, password)
	 */
	signup: async (credentials) => {
		set({ isSigningUp: true }); // Activar loading
		try {
			// Enviar datos al backend para crear una cuenta
			const response = await axios.post("/api/v1/auth/signup", credentials);

			// Guardar el usuario en el estado global y desactivar loading
			set({ user: response.data.user, isSigningUp: false });

			// Mostrar mensaje de Ã©xito
			toast.success("Cuenta creada correctamente");
		} catch (error) {
			// En caso de error, mostrar mensaje y limpiar estado
			toast.error(error.response.data.message || "Error al registrarse");
			set({ isSigningUp: false, user: null });
		}
	},

	/** 
	 * login
	 * FunciÃ³n para iniciar sesiÃ³n con email y contraseÃ±a
	 * @param {Object} credentials - datos de inicio de sesiÃ³n (email y contraseÃ±a)
	 */
	login: async (credentials) => {
		set({ isLoggingIn: true }); // Activar loading
		try {
			const response = await axios.post("/api/v1/auth/login", credentials);

			// Guardar usuario autenticado en el estado global
			set({ user: response.data.user, isLoggingIn: false });
		} catch (error) {
			// En caso de error, limpiar estado y mostrar mensaje
			set({ isLoggingIn: false, user: null });
			toast.error(error.response.data.message || "Error al iniciar sesiÃ³n");
		}
	},

	/** 
	 * logout
	 * Cierra la sesiÃ³n del usuario autenticado
	 */
	logout: async () => {
		set({ isLoggingOut: true }); // Activar loading
		try {
			// Llamada al backend para cerrar sesiÃ³n
			await axios.post("/api/v1/auth/logout");

			// Limpiar usuario del estado global
			set({ user: null, isLoggingOut: false });

			toast.success("SesiÃ³n cerrada correctamente");
		} catch (error) {
			set({ isLoggingOut: false });
			toast.error(error.response.data.message || "Error al cerrar sesiÃ³n");
		}
	},

	/** 
	 * authCheck
	 * Verifica si hay una sesiÃ³n activa (por ejemplo, al recargar la pÃ¡gina)
	 */
	authCheck: async () => {
		set({ isCheckingAuth: true }); // Activar verificaciÃ³n
		try {
			// Llamada al backend para verificar si el usuario sigue autenticado
			const response = await axios.get("/api/v1/auth/authCheck");

			// Si hay usuario, lo guarda en el estado global
			set({ user: response.data.user, isCheckingAuth: false });
		} catch (error) {
			// Si no hay sesiÃ³n vÃ¡lida, limpia el estado
			set({ isCheckingAuth: false, user: null });

			// toast desactivado para no mostrar error cada vez que no hay sesiÃ³n activa
			// toast.error(error.response.data.message || "Error al verificar sesiÃ³n");
		}
	},
}));
âœ… Resumen de funcionalidades
FunciÃ³n	Â¿QuÃ© hace?
signup()	Registra un nuevo usuario y lo guarda en estado.
login()	Inicia sesiÃ³n con email y contraseÃ±a.
logout()	Cierra la sesiÃ³n actual del usuario.
authCheck()	Verifica si hay una sesiÃ³n activa al cargar la app.

Â¿Quieres que tambiÃ©n guardemos el token JWT en localStorage y lo usemos en las peticiones protegidas? Puedo ayudarte con eso tambiÃ©n.








TÃº dijiste:
import { create } from 'zustand';

export const useContentStore = create((set) => ({
  contentType: "movie",
  setContentType: (type) => set({ contentType: type})
})); documentan tambien 


ChatGPT Plus
Claro, a continuaciÃ³n te documento detalladamente este pequeÃ±o pero Ãºtil store de Zustand para manejar el tipo de contenido (movie o tv, por ejemplo) en una aplicaciÃ³n, probablemente relacionada con pelÃ­culas o series como en el caso de TMDB.

js
Copiar
Editar
// Importar el mÃ©todo `create` de la librerÃ­a Zustand para crear un store de estado global
import { create } from 'zustand';

/**
 * useContentStore
 * Store global que gestiona el tipo de contenido seleccionado por el usuario (pelÃ­culas, series, etc.)
 * Ideal para apps donde se filtra contenido por categorÃ­a.
 */
export const useContentStore = create((set) => ({

  // Estado inicial del tipo de contenido
  contentType: "movie", // Valor por defecto es "movie", puede ser cambiado a "tv" u otro

  /**
   * setContentType
   * FunciÃ³n para actualizar el tipo de contenido actual
   * @param {string} type - nuevo tipo de contenido ("movie", "tv", etc.)
   */
  setContentType: (type) => set({ contentType: type })
}));
âœ… Â¿QuÃ© hace este store?
Propiedad / MÃ©todo	DescripciÃ³n
contentType	Almacena si el usuario estÃ¡ viendo "movie" o "tv". Puede usarse para cambiar lo que se muestra en la interfaz.
setContentType()	Permite actualizar el tipo de contenido, por ejemplo, cuando el usuario cambia de "PelÃ­culas" a "Series".

ğŸ§  Ejemplo de uso en un componente React:
jsx
Copiar
Editar
import { useContentStore } from './store/useContentStore';

function NavTabs() {
  const { contentType, setContentType } = useContentStore();

  return (
    <div>
      <button onClick={() => setContentType("movie")}>PelÃ­culas</button>
      <button onClick={() => setContentType("tv")}>Series</button>

      <p>Contenido actual: {contentType}</p>
    </div>
  );


 ğŸ¬ Clon de Netflix con MERN StackEste proyecto es un clon simplificado de Netflix, construido con la pila MERN (MongoDB, Express.js, React.js, Node.js). Permite a los usuarios registrarse, iniciar sesiÃ³n y explorar una colecciÃ³n de pelÃ­culas y series de televisiÃ³n.âœ¨ CaracterÃ­sticasAutenticaciÃ³n de Usuarios: Registro e inicio de sesiÃ³n seguro con JWT.GestiÃ³n de Perfiles: Los usuarios pueden gestionar sus perfiles.ExploraciÃ³n de Contenido: Navega por una biblioteca de pelÃ­culas y series.DiseÃ±o Responsivo: Experiencia de usuario optimizada para diferentes dispositivos.ğŸš€ TecnologÃ­as UtilizadasBackend (Node.js, Express.js):Node.js: Entorno de ejecuciÃ³n de JavaScript.Express.js: Framework web para Node.js.MongoDB: Base de datos NoSQL para almacenar datos de usuarios y contenido.Mongoose: ODM (Object Data Modeling) para MongoDB.JWT (JSON Web Tokens): Para autenticaciÃ³n segura.Bcrypt.js: Para el hash de contraseÃ±as.Dotenv: Para gestionar variables de entorno.Axios: Cliente HTTP para realizar peticiones.Cookie-parser: Para analizar cookies adjuntas a la peticiÃ³n del cliente.Frontend (React.js):React.js: Biblioteca de JavaScript para construir interfaces de usuario.React Router DOM: Para la navegaciÃ³n en la aplicaciÃ³n de una sola pÃ¡gina.Tailwind CSS: Para un diseÃ±o rÃ¡pido y responsivo.Axios: Para consumir la API del backend.ğŸ“¸ Captura de PantallaAquÃ­ tienes una vista previa de la aplicaciÃ³n en acciÃ³n:!(paragithub.jpg)ğŸ“¦ Estructura del Proyectomern/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ server.js
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ App.js
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ .env.example
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â””â”€â”€ README.md
âš™ï¸ ConfiguraciÃ³n y EjecuciÃ³n LocalSigue estos pasos para configurar y ejecutar el proyecto en tu mÃ¡quina local.PrerrequisitosAsegÃºrate de tener instalado lo siguiente:Node.js (v18 o superior)npm (v8 o superior)MongoDB (local o una instancia en la nube como MongoDB Atlas)Docker y Docker Compose (opcional, pero recomendado para un entorno consistente)1. Clonar el Repositoriogit clone <URL_DE_TU_REPOSITORIO>
cd mern
2. ConfiguraciÃ³n de Variables de EntornoCrea un archivo .env en el directorio raÃ­z de tu proyecto (mern/.env) y aÃ±ade las siguientes variables. Puedes copiar el contenido de .env.example.# .env
MONGO_URI=mongodb://localhost:27017/mernflix # O tu URI de MongoDB Atlas
PORT=5000
JWT_SECRET=tu_secreto_jwt_muy_seguro
TMDB_API_KEY=tu_clave_api_tmdb # Si usas la API de TMDB
Nota: Si usas Docker Compose, el MONGO_URI en tu .env dentro del contenedor serÃ¡ mongodb://mongodb:27017/mernflix (donde mongodb es el nombre del servicio en docker-compose.yml).3. InstalaciÃ³n de DependenciasInstala las dependencias tanto para el backend como para el frontend:npm install # Instala dependencias del backend
npm install --prefix frontend # Instala dependencias del frontend
4. EjecuciÃ³n del Proyecto (Sin Docker)BackendEn el directorio raÃ­z del proyecto (mern/), ejecuta:npm run dev # Para desarrollo con nodemon
# O para producciÃ³n
npm run start
El servidor backend se ejecutarÃ¡ en http://localhost:5000.FrontendEn el directorio raÃ­z del proyecto (mern/), ejecuta:npm start --prefix frontend
La aplicaciÃ³n frontend se ejecutarÃ¡ en http://localhost:3000.5. EjecuciÃ³n del Proyecto con Docker Compose (Recomendado)AsegÃºrate de tener Docker y Docker Compose instalados.Crea el archivo .env en la raÃ­z del proyecto como se mencionÃ³ anteriormente.AsegÃºrate de que tus Dockerfiles estÃ©n en backend/Dockerfile y frontend/Dockerfile respectivamente.Desde el directorio raÃ­z de tu proyecto (mern/), ejecuta:docker-compose up --build
Esto construirÃ¡ las imÃ¡genes de Docker para tu backend y frontend, y levantarÃ¡ los servicios junto con una instancia de MongoDB.Una vez que los contenedores estÃ©n en funcionamiento:Frontend: Accede a la aplicaciÃ³n en http://localhost:3000Backend API: El backend estarÃ¡ disponible internamente en http://backend:5000 para el frontend y externamente en http://localhost:5000 si necesitas accederlo directamente.6. Detener los Contenedores de DockerPara detener y eliminar los contenedores, redes y volÃºmenes creados por docker-compose up:docker-compose down
ğŸ¤ ContribucionesÂ¡Las contribuciones son bienvenidas! Si encuentras un error o tienes una sugerencia de mejora, por favor, abre un "issue" o envÃ­a un "pull request".ğŸ“„ LicenciaEste proyecto estÃ¡ bajo la Licencia ISC. 